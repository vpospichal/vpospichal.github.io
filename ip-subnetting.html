<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>IP Subnetting - bitov√° vizualizace</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    .bit { display: inline-block; width: 20px; text-align: center; font-family: monospace; }
    .network { background: #2196f3; color: white; }
    .subnet { background: #4caf50; color: white; }
    .host { background: #e0e0e0; }
    .label-row { margin-bottom: 5px; }
    .ip-row { margin-bottom: 15px; }
    .slider { margin: 10px 0; }
  </style>
</head>
<body>
  <h2>üîç Vizualizace dƒõlen√≠ IP na pods√≠tƒõ (bit po bitu)</h2>

  <label>IP adresa (nap≈ô. 192.168.1.0):</label><br/>
  <input type="text" id="ipInput" value="192.168.1.0"/><br/><br/>

  <label>Prefix (CIDR): <span id="prefixLabel">24</span></label><br/>
  <input type="range" min="16" max="30" value="24" id="prefixSlider" class="slider"/><br/>

  <div class="label-row"><strong>IP v bin√°rn√≠m tvaru:</strong></div>
  <div id="bitDisplay" class="ip-row"></div>

  <script>
    const ipInput = document.getElementById("ipInput");
    const slider = document.getElementById("prefixSlider");
    const prefixLabel = document.getElementById("prefixLabel");
    const bitDisplay = document.getElementById("bitDisplay");

    function ipToBinary(ip) {
      return ip.split('.').map(octet => {
        let bin = parseInt(octet).toString(2);
        return bin.padStart(8, '0');
      }).join('');
    }

    function updateBits() {
      const ip = ipInput.value;
      const prefix = parseInt(slider.value);
      prefixLabel.textContent = prefix;

      const bin = ipToBinary(ip);
      bitDisplay.innerHTML = '';

      for (let i = 0; i < 32; i++) {
        const bit = bin[i] || '0';
        const span = document.createElement('span');
        span.className = 'bit';

        if (i < prefix) {
          span.classList.add(i < 24 ? 'network' : 'subnet');
        } else {
          span.classList.add('host');
        }

        span.textContent = bit;
        bitDisplay.appendChild(span);
      }
    }

    ipInput.addEventListener("input", updateBits);
    slider.addEventListener("input", updateBits);

    updateBits(); // Inicializace
  </script>
</body>
</html>
